<template>
  <div class="docs-view">
    <div class="page-header">
      <h1>ç»„ä»¶æ–‡æ¡£</h1>
      <p>è¯¦ç»†çš„ç»„ä»¶ä½¿ç”¨è¯´æ˜å’ŒAPIæ–‡æ¡£</p>
    </div>
    
    <!-- æ–‡æ¡£å¯¼èˆª -->
    <a-row :gutter="24">
      <a-col :xs="24" :lg="6">
        <a-card title="æ–‡æ¡£å¯¼èˆª" class="nav-card">
          <a-menu
            v-model:selectedKeys="selectedKeys"
            mode="inline"
            @click="scrollToSection"
          >
            <a-menu-item key="getting-started">
              <template #icon>
                <rocket-outlined />
              </template>
              å¿«é€Ÿå¼€å§‹
            </a-menu-item>
            <a-menu-item key="installation">
              <template #icon>
                <download-outlined />
              </template>
              å®‰è£…æŒ‡å—
            </a-menu-item>
            <a-sub-menu key="components" title="ç»„ä»¶">
              <template #icon>
                <appstore-outlined />
              </template>
              <a-menu-item key="button">Button æŒ‰é’®</a-menu-item>
              <a-menu-item key="form">Form è¡¨å•</a-menu-item>
              <a-menu-item key="table">Table è¡¨æ ¼</a-menu-item>
              <a-menu-item key="chart">Chart å›¾è¡¨</a-menu-item>
            </a-sub-menu>
            <a-menu-item key="api">
              <template #icon>
                <api-outlined />
              </template>
              API å‚è€ƒ
            </a-menu-item>
            <a-menu-item key="changelog">
              <template #icon>
                <history-outlined />
              </template>
              æ›´æ–°æ—¥å¿—
            </a-menu-item>
          </a-menu>
        </a-card>
      </a-col>
      
      <a-col :xs="24" :lg="18">
        <div class="docs-content">
          <!-- å¿«é€Ÿå¼€å§‹ -->
          <section id="getting-started" class="doc-section">
            <a-card title="å¿«é€Ÿå¼€å§‹" class="doc-card">
              <div class="doc-content">
                <h3>æ¬¢è¿ä½¿ç”¨ VueAntStorm ç»„ä»¶åº“</h3>
                <p>VueAntStorm æ˜¯åŸºäº Vue 3 + TypeScript + Ant Design Vue æ„å»ºçš„ç°ä»£åŒ–ç»„ä»¶åº“ï¼Œä¸ºå¼€å‘è€…æä¾›é«˜è´¨é‡çš„ UI ç»„ä»¶å’Œæœ€ä½³å®è·µã€‚</p>
                
                <h4>ç‰¹æ€§</h4>
                <ul>
                  <li>ğŸš€ åŸºäº Vue 3 Composition API</li>
                  <li>ğŸ“¦ å¼€ç®±å³ç”¨çš„é«˜è´¨é‡ç»„ä»¶</li>
                  <li>ğŸ¨ ç°ä»£åŒ–çš„è®¾è®¡è¯­è¨€</li>
                  <li>ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯</li>
                  <li>ğŸŒ å›½é™…åŒ–æ”¯æŒ</li>
                  <li>âš¡ æŒ‰éœ€åŠ è½½ï¼Œä¼˜åŒ–åŒ…ä½“ç§¯</li>
                </ul>
                
                <h4>å¿«é€Ÿä½“éªŒ</h4>
                <a-alert
                  message="æç¤º"
                  description="å»ºè®®ä½¿ç”¨ pnpm ä½œä¸ºåŒ…ç®¡ç†å™¨ï¼Œå®ƒèƒ½æä¾›æ›´å¿«çš„å®‰è£…é€Ÿåº¦å’Œæ›´å¥½çš„ä¾èµ–ç®¡ç†ã€‚"
                  type="info"
                  show-icon
                  style="margin: 16px 0;"
                />
                
                <pre class="code-block"><code># åˆ›å»ºæ–°é¡¹ç›®
npm create vue@latest my-project
cd my-project

# å®‰è£…ä¾èµ–
pnpm install

# å®‰è£… VueAntStorm
pnpm add ant-design-vue @ant-design/icons-vue</code></pre>
              </div>
            </a-card>
          </section>
          
          <!-- å®‰è£…æŒ‡å— -->
          <section id="installation" class="doc-section">
            <a-card title="å®‰è£…æŒ‡å—" class="doc-card">
              <div class="doc-content">
                <h3>ç¯å¢ƒè¦æ±‚</h3>
                <ul>
                  <li>Node.js >= 16.0.0</li>
                  <li>Vue >= 3.2.0</li>
                  <li>TypeScript >= 4.5.0 (å¯é€‰)</li>
                </ul>
                
                <h3>åŒ…ç®¡ç†å™¨å®‰è£…</h3>
                <a-tabs v-model:activeKey="installTab">
                  <a-tab-pane key="pnpm" tab="pnpm">
                    <pre class="code-block"><code>pnpm add ant-design-vue @ant-design/icons-vue</code></pre>
                  </a-tab-pane>
                  <a-tab-pane key="npm" tab="npm">
                    <pre class="code-block"><code>npm install ant-design-vue @ant-design/icons-vue</code></pre>
                  </a-tab-pane>
                  <a-tab-pane key="yarn" tab="yarn">
                    <pre class="code-block"><code>yarn add ant-design-vue @ant-design/icons-vue</code></pre>
                  </a-tab-pane>
                </a-tabs>
                
                <h3>å…¨å±€å¼•å…¥</h3>
                <pre class="code-block"><code>// main.ts
import { createApp } from 'vue'
import Antd from 'ant-design-vue'
import 'ant-design-vue/dist/reset.css'
import App from './App.vue'

const app = createApp(App)
app.use(Antd)
app.mount('#app')</code></pre>
                
                <h3>æŒ‰éœ€å¼•å…¥</h3>
                <pre class="code-block"><code>// å®‰è£… unplugin-vue-components
pnpm add -D unplugin-vue-components

// vite.config.ts
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import Components from 'unplugin-vue-components/vite'
import { AntDesignVueResolver } from 'unplugin-vue-components/resolvers'

export default defineConfig({
  plugins: [
    vue(),
    Components({
      resolvers: [
        AntDesignVueResolver({
          importStyle: false
        })
      ]
    })
  ]
})</code></pre>
              </div>
            </a-card>
          </section>
          
          <!-- ç»„ä»¶ç¤ºä¾‹ -->
          <section id="button" class="doc-section">
            <a-card title="Button æŒ‰é’®" class="doc-card">
              <div class="doc-content">
                <h3>åŸºç¡€ç”¨æ³•</h3>
                <div class="demo-box">
                  <div class="demo">
                    <a-space>
                      <a-button type="primary">Primary</a-button>
                      <a-button>Default</a-button>
                      <a-button type="dashed">Dashed</a-button>
                      <a-button type="text">Text</a-button>
                      <a-button type="link">Link</a-button>
                    </a-space>
                  </div>
                  <div class="demo-code">
                    <a-collapse>
                      <a-collapse-panel key="1" header="æŸ¥çœ‹ä»£ç ">
                        <pre class="code-block"><code>&lt;template&gt;
  &lt;a-space&gt;
    &lt;a-button type="primary"&gt;Primary&lt;/a-button&gt;
    &lt;a-button&gt;Default&lt;/a-button&gt;
    &lt;a-button type="dashed"&gt;Dashed&lt;/a-button&gt;
    &lt;a-button type="text"&gt;Text&lt;/a-button&gt;
    &lt;a-button type="link"&gt;Link&lt;/a-button&gt;
  &lt;/a-space&gt;
&lt;/template&gt;</code></pre>
                      </a-collapse-panel>
                    </a-collapse>
                  </div>
                </div>
                
                <h3>API</h3>
                <a-table :columns="buttonApiColumns" :data-source="buttonApiData" :pagination="false" size="small">
                  <template #bodyCell="{ column, record }">
                    <template v-if="column.key === 'type'">
                      <a-tag color="blue">{{ record.type }}</a-tag>
                    </template>
                    <template v-if="column.key === 'default'">
                      <code>{{ record.default }}</code>
                    </template>
                  </template>
                </a-table>
              </div>
            </a-card>
          </section>
          
          <!-- API å‚è€ƒ -->
          <section id="api" class="doc-section">
            <a-card title="API å‚è€ƒ" class="doc-card">
              <div class="doc-content">
                <h3>å…¨å±€é…ç½®</h3>
                <p>VueAntStorm æä¾›äº†å…¨å±€é…ç½®åŠŸèƒ½ï¼Œå¯ä»¥ç»Ÿä¸€è®¾ç½®ç»„ä»¶çš„é»˜è®¤å±æ€§ã€‚</p>
                
                <pre class="code-block"><code>// main.ts
import { createApp } from 'vue'
import Antd, { ConfigProvider } from 'ant-design-vue'
import zhCN from 'ant-design-vue/es/locale/zh_CN'

const app = createApp(App)
app.use(Antd)

// å…¨å±€é…ç½®
app.provide('configProvider', {
  locale: zhCN,
  theme: {
    token: {
      colorPrimary: '#1890ff'
    }
  }
})</code></pre>
                
                <h3>ä¸»é¢˜å®šåˆ¶</h3>
                <p>æ”¯æŒé€šè¿‡ CSS å˜é‡æˆ– Design Token çš„æ–¹å¼å®šåˆ¶ä¸»é¢˜ã€‚</p>
                
                <a-tabs v-model:activeKey="themeTab">
                  <a-tab-pane key="css" tab="CSS å˜é‡">
                    <pre class="code-block"><code>/* è‡ªå®šä¹‰ä¸»é¢˜è‰² */
:root {
  --ant-primary-color: #1890ff;
  --ant-success-color: #52c41a;
  --ant-warning-color: #faad14;
  --ant-error-color: #f5222d;
}</code></pre>
                  </a-tab-pane>
                  <a-tab-pane key="token" tab="Design Token">
                    <pre class="code-block"><code>// theme.ts
export const theme = {
  token: {
    colorPrimary: '#1890ff',
    colorSuccess: '#52c41a',
    colorWarning: '#faad14',
    colorError: '#f5222d',
    borderRadius: 6,
    fontSize: 14
  }
}</code></pre>
                  </a-tab-pane>
                </a-tabs>
              </div>
            </a-card>
          </section>
          
          <!-- æ›´æ–°æ—¥å¿— -->
          <section id="changelog" class="doc-section">
            <a-card title="æ›´æ–°æ—¥å¿—" class="doc-card">
              <div class="doc-content">
                <a-timeline>
                  <a-timeline-item color="green">
                    <template #dot>
                      <check-circle-outlined style="color: #52c41a;" />
                    </template>
                    <div class="timeline-content">
                      <h4>v1.0.0 <a-tag color="green">Latest</a-tag></h4>
                      <p class="timeline-date">2024-01-15</p>
                      <ul>
                        <li>ğŸ‰ é¦–ä¸ªæ­£å¼ç‰ˆæœ¬å‘å¸ƒ</li>
                        <li>âœ¨ å®Œæ•´çš„ç»„ä»¶åº“æ¶æ„</li>
                        <li>ğŸ“š å®Œå–„çš„æ–‡æ¡£ç³»ç»Ÿ</li>
                        <li>ğŸ”§ TypeScript æ”¯æŒ</li>
                      </ul>
                    </div>
                  </a-timeline-item>
                  
                  <a-timeline-item color="blue">
                    <div class="timeline-content">
                      <h4>v0.9.0</h4>
                      <p class="timeline-date">2024-01-10</p>
                      <ul>
                        <li>ğŸš€ æ€§èƒ½ä¼˜åŒ–</li>
                        <li>ğŸ› ä¿®å¤å·²çŸ¥é—®é¢˜</li>
                        <li>ğŸ“± ç§»åŠ¨ç«¯é€‚é…ä¼˜åŒ–</li>
                      </ul>
                    </div>
                  </a-timeline-item>
                  
                  <a-timeline-item>
                    <div class="timeline-content">
                      <h4>v0.8.0</h4>
                      <p class="timeline-date">2024-01-05</p>
                      <ul>
                        <li>âœ¨ æ–°å¢å›¾è¡¨ç»„ä»¶</li>
                        <li>ğŸ¨ UI è®¾è®¡ä¼˜åŒ–</li>
                        <li>ğŸŒ å›½é™…åŒ–æ”¯æŒ</li>
                      </ul>
                    </div>
                  </a-timeline-item>
                </a-timeline>
              </div>
            </a-card>
          </section>
        </div>
      </a-col>
    </a-row>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import {
  RocketOutlined,
  DownloadOutlined,
  AppstoreOutlined,
  ApiOutlined,
  HistoryOutlined,
  CheckCircleOutlined
} from '@ant-design/icons-vue'

const selectedKeys = ref(['getting-started'])
const installTab = ref('pnpm')
const themeTab = ref('css')

// Button API æ•°æ®
const buttonApiColumns = [
  { title: 'å±æ€§', dataIndex: 'prop', key: 'prop' },
  { title: 'è¯´æ˜', dataIndex: 'description', key: 'description' },
  { title: 'ç±»å‹', dataIndex: 'type', key: 'type' },
  { title: 'é»˜è®¤å€¼', dataIndex: 'default', key: 'default' }
]

const buttonApiData = [
  {
    key: '1',
    prop: 'type',
    description: 'è®¾ç½®æŒ‰é’®ç±»å‹',
    type: 'string',
    default: 'default'
  },
  {
    key: '2',
    prop: 'size',
    description: 'è®¾ç½®æŒ‰é’®å¤§å°',
    type: 'string',
    default: 'middle'
  },
  {
    key: '3',
    prop: 'disabled',
    description: 'æŒ‰é’®å¤±æ•ˆçŠ¶æ€',
    type: 'boolean',
    default: 'false'
  },
  {
    key: '4',
    prop: 'loading',
    description: 'è®¾ç½®æŒ‰é’®è½½å…¥çŠ¶æ€',
    type: 'boolean',
    default: 'false'
  }
]

const scrollToSection = ({ key }: { key: string }) => {
  const element = document.getElementById(key)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' })
  }
}
</script>

<style scoped>
.docs-view {
  padding: 0;
}

.page-header {
  margin-bottom: 24px;
}

.page-header h1 {
  font-size: 24px;
  font-weight: 600;
  color: #1890ff;
  margin-bottom: 8px;
}

.page-header p {
  color: #666;
  font-size: 14px;
  margin: 0;
}

.nav-card {
  position: sticky;
  top: 24px;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.docs-content {
  padding-left: 0;
}

.doc-section {
  margin-bottom: 24px;
}

.doc-card {
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.doc-content {
  line-height: 1.6;
}

.doc-content h3 {
  color: #1890ff;
  margin-top: 24px;
  margin-bottom: 16px;
  font-size: 18px;
  font-weight: 600;
}

.doc-content h4 {
  color: #333;
  margin-top: 20px;
  margin-bottom: 12px;
  font-size: 16px;
  font-weight: 500;
}

.doc-content ul {
  padding-left: 20px;
}

.doc-content li {
  margin-bottom: 8px;
}

.code-block {
  background: #f6f8fa;
  border: 1px solid #e1e4e8;
  border-radius: 6px;
  padding: 16px;
  margin: 16px 0;
  overflow-x: auto;
  font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
  font-size: 13px;
  line-height: 1.45;
}

.code-block code {
  background: none;
  padding: 0;
  font-size: inherit;
  color: #24292e;
}

.demo-box {
  border: 1px solid #e8e8e8;
  border-radius: 6px;
  margin: 16px 0;
}

.demo {
  padding: 24px;
  border-bottom: 1px solid #e8e8e8;
}

.demo-code {
  background: #fafafa;
}

.timeline-content h4 {
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.timeline-date {
  color: #666;
  font-size: 12px;
  margin-bottom: 8px;
}

.timeline-content ul {
  margin-bottom: 0;
}

@media (max-width: 1024px) {
  .nav-card {
    position: static;
    margin-bottom: 24px;
  }
  
  .docs-content {
    padding-left: 0;
  }
}

@media (max-width: 768px) {
  .demo {
    padding: 16px;
  }
  
  .code-block {
    padding: 12px;
    font-size: 12px;
  }
}
</style>